{{ define "main" }}
<div class="bg-white">
  <article itemscope itemtype="https://schema.org/BlogPosting"
    class="text-base leading-7 text-gray-700">
    <meta itemprop="wordCount" content="{{ .Content | countwords }}">
    <meta itemprop="abstract" content="{{ .Summary }}">
    <h1 itemprop="name" class="mt-2 mb-0 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">{{ .Title }}</h1>
    <div>
      <p class="font-normal text-gray-400 text-xs md:text-base italic m-0">Posted by <span itemprop="author" itemscope
          itemtype="https://schema.org/Person">
          <span itemprop="name">
            {{/* TODO :: Support multiple authors? */}}
            <a itemprop="url" href="/profile">Stuart Blackler</a>
          </span>
        </span>. Last Modified: <time itemprop="datePublished" datetime="{{ .Lastmod }}">{{ .Lastmod.Format "January 2, 2006" }}</time>.
      </p>
    </div>
    <nav class="mb-2 bg-slate-50 p-6 w-fit rounded-lg">
      <h4 class="mt-0">Table of Contents</h4>
      {{- range .Fragments.Headings }}
      <ul class="space-y-1 pl-1 list-disc">
        {{- range .Headings }}
        <li><a class="hover:text-orange-600" href="#{{ anchorize .ID }}">{{ .Title }}</a></li>
        {{- if .Headings }}
        <ul class="space-y-1 pl-4 list-disc">
          {{- range .Headings }}
          <li><a class="hover:text-orange-600" href="#{{ anchorize .ID }}">{{ .Title }}</a></li>
          {{- end }}
        </ul>
        {{- end }}
        {{- end }}
      </ul>
      {{- end }}
    </nav>
    <article itemprop="articleBody">
      {{ .Content }}
    </article>
</div>

{{ end }}