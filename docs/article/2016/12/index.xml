<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>December on CodeWithStu's Blog</title><link>https://im5tu.io/article/2016/12/</link><description>Recent content in December on CodeWithStu's Blog</description><generator>Hugo -- gohugo.io</generator><language>en-gb</language><atom:link href="https://im5tu.io/article/2016/12/index.xml" rel="self" type="application/rss+xml"/><item><title>Hugo Quick Tip: Inlining CSS Files</title><link>https://im5tu.io/article/2016/12/hugo-quick-tip-inlining-css-files/</link><pubDate>Thu, 29 Dec 2016 20:25:58 +0000</pubDate><guid>https://im5tu.io/article/2016/12/hugo-quick-tip-inlining-css-files/</guid><description>&lt;p>Today I have been doing a little bit of work on my site and one of the things that I wanted to do is inline the css file. It&amp;rsquo;s quite a small file anyway, and once compressed with gzip should make a fairly minimal difference to the size of the page.&lt;/p>
&lt;h2 id="the-readfile-function">The &lt;code>readFile&lt;/code> function&lt;/h2>
&lt;p>In Hugo, the &lt;code>readFile&lt;/code> function looks for a file relative to the current project working directory and returns it as a string. If we had a file located at: &lt;code>&amp;lt;root&amp;gt;/static/css/site.css&lt;/code>, then we could render the file out like so:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">&amp;lt;style&amp;gt;&lt;/span>{{- renderFile &amp;#34;/static/css/site.css&amp;#34; -}}&lt;span style="color:#f92672">&amp;lt;/style&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>NB:&lt;/strong> &lt;em>Remember to close the squiggly brackets so that Hugo renders it correctly.&lt;/em>&lt;/p>
&lt;p>There is a gotcha with this approach so far. Hugo will try and do its thing with the resultant string and what you will end up with is something along the lines of:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">&amp;lt;script&amp;gt;&lt;/span>ZgotmplZ&lt;span style="color:#f92672">&amp;lt;/script&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>as opposed to your intented css contents. Luckily, there is a piped method that we can use to sort this out for us:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">&amp;lt;style&amp;gt;&lt;/span>{{- renderFile &amp;#34;css/site.css&amp;#34; | safeCss -}}&lt;span style="color:#f92672">&amp;lt;/style&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="reading-a-hashed-file">Reading a hashed file&lt;/h2>
&lt;p>As you may recall in &lt;a href="https://im5tu.io/article/2016/11/blog-building-part-4-frontend/">my previous Hugo post&lt;/a>, I setup my css files with cache busting capabilites by appending the hash onto the filename. In order to render this as part of the HTML, we need a few things:&lt;/p>
&lt;ul>
&lt;li>Find the name of the hashed file&lt;/li>
&lt;li>Build the file path&lt;/li>
&lt;li>Call readFile&lt;/li>
&lt;/ul>
&lt;p>In order to get the hashed file name, we can inspect the site&amp;rsquo;s data sources, looking for the file name (requires post mentioned above):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span>{{ $siteCssHash := (index .Site.Data.hash &amp;#34;site.css&amp;#34;) }}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Next, we need to build up the correct file path. Note, this is the file path prior to rendering:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span>{{ $siteCssPath := (printf &amp;#34;/static/css/%s&amp;#34; $siteCssHash) }}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Finally, we need to call &lt;code>readFile&lt;/code> and ensure that it is marked as a safe css string:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">&amp;lt;style&amp;gt;&lt;/span>{{- readFile $siteCssPath | safeCSS -}}&lt;span style="color:#f92672">&amp;lt;/style&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>So putting the three together:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span>{{ $siteCssHash := (index .Site.Data.hash &amp;#34;site.css&amp;#34;) }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{{ $siteCssPath := (printf &amp;#34;/static/css/%s&amp;#34; $siteCssHash) }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">&amp;lt;style&amp;gt;&lt;/span>{{- readFile $siteCssPath | safeCSS -}}&lt;span style="color:#f92672">&amp;lt;/style&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>And that&amp;rsquo;s it. When the page reloads/is rebuilt, your pages should now contain inlined css.&lt;/p></description></item><item><title>Write Good Code, Not Code Hastily</title><link>https://im5tu.io/article/2016/12/write-good-code-not-code-hastily/</link><pubDate>Wed, 21 Dec 2016 23:25:27 +0000</pubDate><guid>https://im5tu.io/article/2016/12/write-good-code-not-code-hastily/</guid><description>&lt;p>This article is a rework of a draft that I&amp;rsquo;ve had sitting in my drafts folder for a long while now. Over the last six months or so, I&amp;rsquo;ve been reviewing a lot more code than I had previously thanks in part to a promotion and in part, code reviewing applicants coding entries. Some of the code has been good, with some code, really not so good!&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>TL;DR:&lt;/strong> &lt;em>Do everything in your power to not take the shortcut when writing code. It will bite you in the future.&lt;/em>&lt;/p>
&lt;/blockquote>
&lt;p>I am much the same as everybody else, there is room for improvement in my code - of that I&amp;rsquo;m sure. We are all limited by knowledge: not knowing what we don&amp;rsquo;t know. That&amp;rsquo;s one of the things I enjoy the most about what I do, learning how to do new things to make my life, and others lives, easier in the long run.&lt;/p>
&lt;p>One of the areas that I think 95% of developers can be better at doing is writing clean code. We&amp;rsquo;ve all heard of &lt;a href="https://cleancoders.com/">Uncle Bob&lt;/a>, so I won&amp;rsquo;t re-itterate him here. I&amp;rsquo;ve found that senior developers asking for Â£45,000 cannot recite the SOLID principals correctly (if at all), let alone use them in practise. I use the SOLID principals as one example, but in reality we are talking about clean and reusable code. Code anyone of any level can pickup and understand.&lt;/p>
&lt;h2 id="on-haste">On Haste&lt;/h2>
&lt;p>There comes a time in every project where you&amp;rsquo;re up against the clock for one reason or another. Deadline&amp;rsquo;s are coming up quickly and you still haven&amp;rsquo;t finished that module. What do you do? Do you write those unit tests later? Do you take that &amp;ldquo;quick and easy&amp;rdquo; shortcut.&lt;/p>
&lt;p>It&amp;rsquo;s very easy to take the shortcut and get the work out on time. When you do this, you are deferring that effort until later. Except:&lt;/p>
&lt;blockquote>
&lt;p>Later equals never&lt;/p>
&lt;/blockquote>
&lt;p>So what happens when you keep deffering that effort until never? You and your team start to use the phrases like: &amp;ldquo;this needs a complete rewrite&amp;rdquo; or &amp;ldquo;we can&amp;rsquo;t do feature x because it wasn&amp;rsquo;t written in an extensible way&amp;rdquo;. These phrases should be massive red flags. They are a sign that too many shortcuts have been taken in the past which have now come to fruition.&lt;/p>
&lt;p>Back to the example, what should you do? There are a number of things that you can do, including:&lt;/p>
&lt;ul>
&lt;li>Ask for more time to do it properly,&lt;/li>
&lt;li>Attempt to descope some of the work,&lt;/li>
&lt;li>Stay late and put extra effort it&lt;/li>
&lt;/ul>
&lt;p>Typically, the first two options are likely your best approach before considering a shortcut or working late. I used often work later as a last resort, though it is something that I am not fond of in any shape or form. This typically means bad quoting/estimating/requirements gathering which is a little outside of scope for this article, so I&amp;rsquo;ll cover this topic in a future post.&lt;/p>
&lt;p>Clean coding can help in preventing us from reaching the situation described above. I gave some advice today, on this very subject, to a junior developer which I don&amp;rsquo;t think is repeated enough, in any form. I&amp;rsquo;ve given it before and i&amp;rsquo;ll give it countless times more:&lt;/p>
&lt;blockquote>
&lt;p>Take the time and learn how to do it correctly. Practise doing it correctly until it&amp;rsquo;s second nature, even on current projects. You will become faster at it with time and be a better developer for it.&lt;/p>
&lt;/blockquote>
&lt;p>Studying by itself is seldom enough. Learning is always best in context. The first few times you try something new, you will inevitably make mistakes. It&amp;rsquo;s natural to make mistakes when learning, we are human afterall. Think of learning like its an agile piece of work. Iterrate and improve (with the help of code reviews).&lt;/p>
&lt;p>Learning the core patterns &amp;amp; principals (eg: SOLID) may slow you down in the early stages of learning as you refer to learning material. However, don&amp;rsquo;t be put off by this. As your knowledege increases, you will be spending less time fighting your way through unreadable code whilst writing code that can be read by all skill levels. Code that is not readable slows everyone down. Yourself included, though you may not realise it at first.&lt;/p>
&lt;h2 id="on-code-reviews">On Code Reviews&lt;/h2>
&lt;p>One of the quickest ways to improve the code you&amp;rsquo;re writing is to have it reviewed. Reviews need to be a conscious effort by everyone in a team. How you do the review is up to you. A review can be two people sitting at a desk, or it can be an isolated review. Pick which strategy is best for you. It&amp;rsquo;s just important that it happens.&lt;/p>
&lt;p>Can a junior review a seniors code? Certainly, in my opinion. Juniors should be asking questions about the code and how it works. This forces a greater understanding in what has been written (on both sides) and the core principals behind the code.&lt;/p>
&lt;p>One of the most common blockers to adopting code reviews is that they take too much time. If you are attempting to review a 3000 file changeset, then of course it will take time. But we must also be asking the question: why has it grown to a 3000 file changeset in the first place? The chances of missing an obvious mistake in a changeset grows exponentially with the size of the changeset. Reviewers get fatigued with large changesets. Where possible, try and keep the changeset small and have it reviewed more frequently by different people. The more eyes on the code, the better, generally.&lt;/p>
&lt;p>Code reviews exist for two primary reasons: to help people learn and catch the obvious mistakes. They should also be &lt;a href="https://slack.engineering/on-empathy-pull-requests-979e4257d158">empathetic in nature&lt;/a>.&lt;/p>
&lt;h2 id="final-thoughts">Final Thoughts&lt;/h2>
&lt;p>The scrutineers amongst you will have noticed that the sub-text to this article is all about preventing technical debt. Technical debt is a monster that accrues interest over time. One of the key ways to prevent that debt, is by writing clean code. We should be writing code as clean as we can. The more you write clean code, the quicker you will be at writing it.&lt;/p>
&lt;p>&lt;em>Your code is your legacy&lt;/em>&lt;/p></description></item></channel></rss>