<!doctype html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="author" content="Stuart Blackler "><meta name="description" content="Setting up a theme and creating our first article using hugo and bones"><meta name="keywords" content=",hugo,blogging"><meta name="robots" content="noodp"><meta name="theme-color" content><link rel="canonical" href="https://im5tu.io/article/2016/11/blog-building-part-3-theming/"><title>Blog Building - Part 3 - Theming :: CodeWithStu's Blog</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" integrity="sha512-Cv93isQdFwaKBV+Z4X8kaVBYWHST58Xb/jVOcV9aRsGSArZsgAnFIhMpDoMDcFNoUtday1hdjn0nGp3+KZyyFw==" crossorigin="anonymous" referrerpolicy="no-referrer"><link rel="stylesheet" href="https://im5tu.io/main.b78c3be9451dc4ca61ca377f3dc2cf2e6345a44c2bae46216a322ef366daa399.css" integrity="sha256-t4w76UUdxMphyjd/PcLPLmNFpEwrrkYhajIu82bao5k="><link rel="apple-touch-icon" sizes="180x180" href="https://im5tu.io/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://im5tu.io/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://im5tu.io/favicon-16x16.png"><link rel="manifest" href="https://im5tu.io/site.webmanifest"><link rel="mask-icon" href="https://im5tu.io/safari-pinned-tab.svg" color><link rel="shortcut icon" href="https://im5tu.io/favicon.ico"><meta name="msapplication-TileColor" content><meta itemprop="name" content="Blog Building - Part 3 - Theming"><meta itemprop="description" content="Setting up a theme and creating our first article using hugo and bones"><meta itemprop="datePublished" content="2016-11-18T19:01:38+00:00"><meta itemprop="dateModified" content="2016-11-18T19:01:38+00:00"><meta itemprop="wordCount" content="815"><meta itemprop="keywords" content="hugo,blogging,"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Blog Building - Part 3 - Theming"><meta name="twitter:description" content="Setting up a theme and creating our first article using hugo and bones"><meta property="og:title" content="Blog Building - Part 3 - Theming"><meta property="og:description" content="Setting up a theme and creating our first article using hugo and bones"><meta property="og:type" content="article"><meta property="og:url" content="https://im5tu.io/article/2016/11/blog-building-part-3-theming/"><meta property="article:section" content="article"><meta property="article:published_time" content="2016-11-18T19:01:38+00:00"><meta property="article:modified_time" content="2016-11-18T19:01:38+00:00"><meta property="og:see_also" content="https://im5tu.io/article/2016/11/blog-building-part-4-frontend/"><meta property="og:see_also" content="https://im5tu.io/article/2016/11/blog-building-part-2-my-first-post/"><meta property="og:see_also" content="https://im5tu.io/article/2016/11/blog-building-part-1-hello-hugo/"><meta property="article:section" content="Development"><meta property="article:section" content="Building a blog"><meta property="article:published_time" content="2016-11-18 19:01:38 +0000 UTC"><meta property="og:image" content="https://im5tu.io/img/profile.png"><meta property="og:site_name" content="CodeWithStu's Blog"><link rel="alternate" type="application/rss+xml" href="https://im5tu.io/article/index.xml" title="Stuart Blackler's Blog"><link rel="preconnect" href="https://api.github.com"><link rel="preconnect" href="https://partner.googleadservices.com"><link rel="preconnect" href="https://tpc.googlesyndication.com"><link rel="preconnect" href="https://www.googletagservices.com"><link rel="preconnect" href="https://googleads.g.doubleclick.net"><link rel="preconnect" href="https://pagead2.googlesyndication.com"><link rel="preload" href="https://im5tu.io/fonts/Inter-UI-Bold.woff2"><link rel="preload" href="https://im5tu.io/fonts/Inter-UI-Regular.woff2"><style>.post{max-width:1200px}.header__inner{width:100%;max-width:1160px}.logo__cursor{background:#3b82f6}.toolbar{display:none!important}.copy-code-button{float:right;display:block;padding:8px 12px;font-size:.9em;background-color:#e2e2e2;border-left:1px solid #e2e2e2;border-bottom:1px solid #e2e2e2;border-radius:0;border-bottom-left-radius:10px;transition:all 250ms ease;margin:-18px;opacity:0}.copy-code-button:hover{cursor:pointer;opacity:.7;border-style:solid}.copy-code-button:focus{background-color:#e2e2e2;outline:0;border-style:solid}.copy-code-button:active{background-color:#e2e2e2;opacity:.5;border-style:solid}pre:hover .copy-code-button{opacity:1}.copy-code-button~pre{position:relative}table{width:100%;border-collapse:collapse}table th{background-color:#cecece;color:#222}table tr{margin:0;padding:0}table tr:first-child{border-left:1px solid #acacac;border-top:1px solid #acacac;border-right:1px solid #acacac}table tr td:first-child{border-left:1px solid #acacac}table tr td:last-child{border-right:1px solid #acacac}table td,table th{padding:.5em;border-bottom:1px solid #acacac;margin:0}h2{margin-top:1.5em}h2 a:link,h2 a:visited,h3 a:link,h3 a:visited,h4 a:link,h4 a:visited,h5 a:link,h5 a:visited{text-decoration:none}h2 a:hover,h3 a:hover,h4 a:hover,h5 a:hover{text-decoration:underline}#promotions img{margin:20px auto}#sponsorMessage{width:100%;background:#ffdf00;color:#242325;padding:10px;font-size:.9em}.flex-container{width:100%;display:inline-flex;justify-content:space-between}.flex-box{display:block}.hidden{display:hidden}.post-title{font-weight:700}.post-summary{font-style:italic;font-size:.8em;color:#222}.post-tags{font-size:.9em}.post-tags span.tag{margin:0 .5em;color:#111;text-decoration:underline}@media print{.copy-code-button{display:none}}@media(prefers-color-scheme:dark){.copy-code-button{background-color:#969696;color:#323232}.post-summary,.post-tags span.tag{color:#eaeaea}}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-QLMVXHCJ5K"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QLMVXHCJ5K")</script><script data-ad-client="ca-pub-8597760177900459" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div class="container"><header class="header"><span class="header__inner"><a href="https://im5tu.io/" style="text-decoration:none"><div class="logo"><span class="logo__mark">></span>
<span class="logo__text">im5tu.io</span>
<span class="logo__cursor"></span></div></a><span class="header__right"><nav class="menu"><ul class="menu__inner"><li><a href="https://im5tu.io/article/">Blog</a></li><li><a href="https://news.codewithstu.tv">Newsletter</a></li><li><a href="https://www.patreon.com/CodeWithStu">Patreon</a></li><li><a href="https://im5tu.io/article/index.xml">RSS</a></li><li><a href="https://twitter.com/CodeWithStu">Twitter</a></li><li><a href="https://codewithstu.tv">YouTube</a></li></ul></nav><span class="menu-trigger"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class="content"><main class="post"><div style="font-style:italic;width:100%;background-color:#ffe12b;color:#333;text-align:center;padding:1px"><p>This page is available to sponsor. <a id="sponsorLink" href="https://im5tu.io/sponsorship/" ref="nofollow" target="_blank">Click Here</a> for more details!</p></div><div class="post-info"><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>4 minutes</p></div><article><h1 class="post-title"><a href="https://im5tu.io/article/2016/11/blog-building-part-3-theming/">Blog Building - Part 3 - Theming</a></h1><hr><aside id="toc"><div class="toc-title">Table of Contents</div><nav id="TableOfContents"><ul><li><a href="#defaults">Defaults</a></li><li><a href="#rendering">Rendering</a><ul><li><a href="#baseof">baseOf</a></li><li><a href="#render">.Render</a></li><li><a href="#partial">partial</a></li></ul></li><li><a href="#archetypes">Archetypes</a></li><li><a href="#the-static">The Static</a></li></ul></nav></aside><hr><div class="post-content"><div style="font-style:italic;width:100%;background-color:#63e5ff;color:#333;text-align:center;padding:5px"><p>This post is part of the <a href="#series" style="font-weight:700">Building A Blog With Hugo</a> series.</p></div><p>In this article, I will show you how the theme has been constructed and show you how the overrides work. So far we have created a site, setup most of our workflow and posted our first article.</p><p>When we installed the theme in the previous post, a series of conventions took over and began the process of rending our pages for us. Because hugo is convention based, we can override the defaults by placing files in the correct place, but first we need to understand the layout. Below you can see the parts of the website that we care about the most:</p><pre><code class="language-powershell">/root
    /archetypes
    /content
    /layouts
    /static
    /themes
        /themeA
            /archetypes
            /layouts
                /_default
                /indexes
                /partials
                /taxonomy
            index.html
        /themeB
            &lt;as above&gt;
</code></pre><h2 id="defaults">Defaults</h2><p>When hugo begins to render a site, the configuration is checked to see if there is a theme configured. If a theme is configured, it looks for that theme under the <code>themes</code> directory by checking for a <code>theme.toml</code> file under each sub-directory. If one of the <code>theme.toml</code> files contains the correct theme name, that theme is loaded and the used as the default for the rest of the rending.</p><p>From the directory listing above, you will notice that there are two <code>layouts</code> folders. One under the site root and one under themeA. As far as I am aware, the layout of each <code>layouts</code> folder is identical. This means that if your theme defines something under <code>/root/themes/themeA/layouts/_default/list.html</code> we can override it by placing a file in <code>/root/layouts/_default/list.html</code>.</p><p>Now that we know this, we can customise the theme how we see fit.</p><h2 id="rendering">Rendering</h2><p>Before continuing, I strongly recommend that you read the <a href="http://gohugo.io/templates/go-templates/">Go Template Primer</a> created by the hugo team. Don&rsquo;t worry, i&rsquo;ll wait.</p><h3 id="baseof">baseOf</h3><p>A theme creator may decide, like I have for bones, to create a <code>baseOf</code> file under the <code>/root/themes/&lt;theme name>/_default/</code> folder. This special file allows you to create a master layout, keeping your theme nice and clean. Inside of file, you can define blocks which another page can also define and implement. What happens here is that the <code>baseOf</code> file says &ldquo;You can configure this section called ABC&rdquo;. Then inside of another file, eg: article/full.html, we can say &ldquo;I want to configure section called ABC and here is what it should contain&rdquo;. In hugo speak, this is called <a href="http://gohugo.io/templates/blocks/">Block Templates</a> and is how the whole of the bones theme is configured.</p><p>You can see an example of this <a href="https://github.com/Im5tu/hugo-bones/blob/master/layouts/_default/baseof.html">here</a>.</p><h3 id="render">.Render</h3><p>The <a href="http://gohugo.io/templates/functions/#render">.Render</a> function is a special kind of function that you can call when rendering a list. It&rsquo;s like rendering a partial view but for the current item in an enumeration.</p><pre><code class="language-go">{{ range .Data.Pages }}
    {{ .Render &quot;summary&quot;}}
{{ end }}
</code></pre><p>The above sample will inspect the page data and enumerate all the available pages associated with the current page before calling render on each item. C#/Java would look something like:</p><pre><code class="language-c#">foreach(var page in this.Data.Pages)
    Render(&quot;summary&quot;, currentItem);
</code></pre><p>You can see an example of this <a href="https://github.com/Im5tu/hugo-bones/blob/master/layouts/article/list.html#L4">here</a>.</p><h3 id="partial">partial</h3><p><a href="http://gohugo.io/templates/partials/">Partial templates</a> are often used to separate out sections of a site into reusable components. The main difference between <code>partial</code> and <code>.Render</code> is that partial can be used to render whole sections of a site with a specific context where is <code>.Render</code> is limited to the current item in an enumeration.</p><pre><code class="language-go">&lt;body&gt;
{{ block &quot;content&quot; . -}} {{- end }}
{{- partial &quot;header/scripts&quot; . -}}
&lt;/body&gt;
</code></pre><p>The above <a href="https://github.com/Im5tu/hugo-bones/blob/master/layouts/_default/baseof.html">example from the baseOf file from bones</a> does the following:</p><ul><li>Says to the theming engine that it wants to declare an overridable section content, passing in the current page context</li><li>Render the partial called <code>scripts</code>, located under the <code>header</code> folder, inside of the <code>partials</code> folder, supplying the current page context</li></ul><p>All partials are located under <code>&lt;root/theme>/layouts/partials/&lt;path></code>. Where <code>&lt;path></code> is the folder structure to the file.</p><p>You can see an example of this <a href="https://github.com/Im5tu/hugo-bones/blob/master/layouts/_default/baseof.html">here</a>.</p><h2 id="archetypes">Archetypes</h2><p>Archetypes are really just a fancy way of saying content types. A theme can define them for you, or you can define your own like I have for the bones theme.</p><p>You can see an example of that <a href="https://github.com/Im5tu/hugo-bones/blob/master/archetypes/article.md">here</a></p><h2 id="the-static">The Static</h2><p>Anything under the static folder, will get copied across to the main site when it gets rendered. This behaved slightly differently than I expected when I first tried this out. I had a file located under <code>/root/static/img/img1.jpg</code>. When I attempted to render an image tag on the page with the src set to <code>/static/img/img1.jpg</code> it didn&rsquo;t work. When I rendered the files to disk by calling <code>hugo</code> and checking the public folder, I could see that it rendered the image under <code>/img/img1.jpg</code>. Slightly different that what I was expecting, but it still worked nevertheless.</p><p>Hopefully you will now have a basic understanding of how a theme is constructed so that you can roll your own and override portions of the theme you have selecting. Next up, I will setup my frontend pipeline of choice so that I can start applying styling to my site.</p></div></article><hr><div id="recommended"><h4>Book Recommendations</h4><p><i>The books below are ones I would personally buy again. All links are redirect to Amazon.</i></p><div class="flex-container"><div class="flex-box"><a href="https://geni.us/P3Jlg4" target="_blank" ref="nofollow"><img src="https://im5tu.io/img/affiliates/Book1.jpg" width="150" height="200" alt="Writing High Performance .NET Code"></a></div><div class="flex-box"><a href="https://geni.us/qEg8Cx" target="_blank" ref="nofollow"><img src="https://im5tu.io/img/affiliates/Book2.jpg" width="150" height="200" alt="Pro .NET Memory Management"></a></div><div class="flex-box"><a href="https://geni.us/k8HBxBA" target="_blank" ref="nofollow"><img src="https://im5tu.io/img/affiliates/Book3.jpg" width="150" height="200" alt="Pro .NET Benchmarking"></a></div><div class="flex-box"><a href="https://geni.us/4b2QcS" target="_blank" ref="nofollow"><img src="https://im5tu.io/img/affiliates/Book4.jpg" width="150" height="200" alt="Designing Data-Intensive Applications"></a></div></div></div><hr><div class="post-info"><a name="series"></a>
<b>More in the Building A Blog With Hugo series:</b><ol><li><a href="https://im5tu.io/article/2016/11/blog-building-part-1-hello-hugo/">Blog Building - Part 1 - Hello Hugo</a></li><li><a href="https://im5tu.io/article/2016/11/blog-building-part-2-my-first-post/">Blog Building - Part 2 - My First Post</a></li><li><b>Blog Building - Part 3 - Theming <i>(This article)</i></b></li><li><a href="https://im5tu.io/article/2016/11/blog-building-part-4-frontend/">Blog Building - Part 4 - Frontend</a></li></ol><p><a href="https://im5tu.io/series/building-a-blog-with-hugo/">View All Articles</a></p><hr><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class="tag"><a href="https://im5tu.io/tags/hugo/">hugo</a></span><span class="tag"><a href="https://im5tu.io/tags/blogging/">blogging</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>815 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2016-11-18 19:01 +0000</p></div><hr><div id="promotions"><a href="https://geni.us/cws-springer" target="_blank"><img src="https://www.awltovhc.com/image-100677210-15518210" width="728" height="90" alt="Apress eBook Sale is here now! - Order selected eBooks for $12.99 each. (3rd-20th May)"></a>
<a href="https://geni.us/cws-namecheap" target="_blank"><img src="https://www.awltovhc.com/image-100677210-14326263" width="728" height="90" alt="Popular Domains for just 99 Cents at Namecheap!"></a>
<a href="https://geni.us/cws-mailchimp" target="_blank"><img src="https://www.ftjcfx.com/image-100677210-15488213" width="728" height="90" alt="See upto 88% more revenue with predictive segments!"></a></div><hr><script src="https://utteranc.es/client.js" repo="Im5tu/im5tu.github.io" issue-term="url" label="Comment" theme="photon-dark" crossorigin="anonymous" async></script><div class="pagination"><div class="pagination__title"><span class="pagination__title-h"></span><hr></div><div class="pagination__buttons"><span class="button previous"><a href="https://im5tu.io/article/2016/11/blog-building-part-4-frontend/"><span class="button__icon">←</span>
<span class="button__text">Blog Building - Part 4 - Frontend</span></a></span>
<span class="button next"><a href="https://im5tu.io/article/2016/11/blog-building-part-2-my-first-post/"><span class="button__text">Blog Building - Part 2 - My First Post</span>
<span class="button__icon">→</span></a></span></div></div></main></div><footer class="footer"><hr><div class="footer__inner"><div class="footer__content"><iframe src="https://codewithstu.substack.com/embed" width="480" height="320" style="border:1px solid #eee;background:#fff" frameborder="0" scrolling="no"></iframe></div></div><hr><div><div class="footer__inner"><div class="footer__content"><span>&copy; 2023</span>
<span><a href="https://im5tu.io/">Stuart Blackler</a></span>
<span><a href="https://im5tu.io/article/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div><div><p><a href="https://im5tu.io/tags">Tags</a> | <a href="https://im5tu.io/categories">Categories</a> | <a href="https://im5tu.io/sitemap.xml">Sitemap</a></p></div><div><p>This site uses Google Analytics for Analytics only, so may contain cookies.</p></div></div></footer></div><script type="text/javascript" src="https://im5tu.io/bundle.min.205d491810c28f95aa953fae884e1c27abe13fdf93ec63b882d0036b248d4a6282eb2d134e4e7225c6ad6e86db87b08488a361ca4a7383d01fcff43f3d57b9c3.js" integrity="sha512-IF1JGBDCj5WqlT+uiE4cJ6vhP9+T7GO4gtADaySNSmKC6y0TTk5yJcatbobbh7CEiKNhykpzg9Afz/Q/PVe5ww=="></script>
<script src="https://im5tu.io/js/site-376a1eef.js" defer></script></body></html>